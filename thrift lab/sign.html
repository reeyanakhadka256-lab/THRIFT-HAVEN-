<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sign In | Thrift Haven</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f7f1e8;
      --card-bg: #ffffff;
      --primary: #3a0f14;
      --text-main: #1f2933;
      --text-soft: #6b7280;
      --radius-lg: 20px;
      --radius-pill: 999px;
      --pill-bg: #fdf7ee;
      --border-subtle: #e5ded3;
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text","Segoe UI", sans-serif;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: var(--font-sans);
      background: radial-gradient(circle at top left,#fcf5eb 0,var(--bg) 42%,#f3ece1 100%);
      color: var(--text-main);
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }
    a{ text-decoration:none; color:inherit; }

    /* NAVBAR */
    header{
      width:100%;
      border-bottom:1px solid rgba(0,0,0,0.1);
      background:rgba(247,241,232,0.8);
      backdrop-filter:blur(10px);
      position:sticky;
      top:0;
      z-index:10;
    }
    .nav-shell{
      max-width:1100px;margin:0 auto;
      padding:14px 20px;display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .brand{
      display:flex;align-items:center;gap:10px;
    }
    .brand-mark{
      width:32px;height:32px;border-radius:50%;
      background:#111827;color:#fff;
      display:flex;align-items:center;justify-content:center;
      font-size:14px;font-weight:700;
    }

    /* SIGN IN BOX */
    .shell{
      max-width:1120px;margin:0 auto;
      padding:40px 20px;display:flex;justify-content:center;
    }
    .auth-card{
      background:#fff;border-radius:var(--radius-lg);
      padding:28px 26px;max-width:420px;width:100%;
      border:1px solid #e5e7eb;
      box-shadow:0 25px 40px rgba(0,0,0,0.1);
    }
    h1{ font-size:24px;margin-bottom:8px; }
    p{ color:var(--text-soft);font-size:14px;margin-bottom:18px; }

    .form-field{ margin-bottom:14px; }
    label{ display:block;font-size:13px;margin-bottom:6px; }
    input{
      width:100%;padding:10px;border-radius:10px;
      border:1px solid var(--border-subtle);font-size:14px;
      background:#fff9f0;
    }
    input:focus{
      outline:none;border-color:var(--primary);
    }

    .btn{
      width:100%;padding:11px;border-radius:var(--radius-pill);
      background:var(--primary);border:none;color:#fff;
      font-size:15px;cursor:pointer;margin-top:6px;
    }
    .links{ margin-top:10px;font-size:13px;text-align:center;color:var(--text-soft); }

    .links a{ color:#1d4ed8; }
    .links a:hover{ text-decoration:underline; }

  </style>
</head>
<body>

<header>
  <div class="nav-shell">
    <div class="brand">
      <div class="brand-mark">TH</div>
      <strong>Thrift Haven</strong>
    </div>

    <nav style="display:flex;gap:20px;font-size:14px;">
      <a href="index.html">Home</a>
      <a href="shop.html">Shop</a>
      <a href="about.html">About</a>
      <a href="blog.html">Blog</a>
      <a href="contact.html">Contact</a>
    </nav>

    <div style="display:flex;gap:10px;align-items:center;">
      <a href="cart.html" style="padding:8px 14px;background:#fdf7ee;border-radius:999px;border:1px solid #ddd;font-size:13px;">
        ðŸ›’ Cart <span id="cart-count">0</span>
      </a>
      <a href="signin.html" style="padding:8px 18px;background:#3a0f14;color:white;border-radius:999px;">Sign In</a>
    </div>
  </div>
</header>

<main>
  <section class="shell">
    <div class="auth-card">
      <h1>Welcome back</h1>
      <p>Sign in to view your saved items and manage your account.</p>

      <form id="login-form">
        <div class="form-field">
          <label>Email address</label>
          <input id="email" type="email" required />
        </div>

        <div class="form-field">
          <label>Password</label>
          <input id="password" type="password" required />
        </div>

        <button class="btn" type="submit">Sign In</button>
      </form>

      <div class="links">
        <a href="forgot-password.html">Forgot your password?</a><br>
        New to Thrift Haven? <a href="create-account.html">Create an account</a>
      </div>
    </div>
  </section>
</main>

<footer style="margin-top:auto;background:#2c0735;color:white;padding:15px 20px;text-align:center;">
  Â© 2025 Thrift Haven. All rights reserved.
</footer>

<script>
  // Load cart counter
  function loadCart(){
    try {
      const c = JSON.parse(localStorage.getItem("thriftHavenCart")) || [];
      const total = c.reduce((s,i)=>s+i.quantity,0);
      document.getElementById("cart-count").textContent = total;
    } catch{ }
  }
  loadCart();

  // LOGIN LOGIC
  const form = document.getElementById("login-form");
  form.addEventListener("submit", function(e){
    e.preventDefault();

    const email = document.getElementById("email").value.trim().toLowerCase();
    const password = document.getElementById("password").value.trim();

    const users = JSON.parse(localStorage.getItem("thriftHavenUsers") || "[]");
    const found = users.find(u => u.email === email && u.password === password);

    if(!found){
      alert("Incorrect email or password.");
      return;
    }

    localStorage.setItem("thriftHavenLoggedInUser", email);
    alert("Signed in successfully.");
    window.location.href = "index.html";
  });
</script>

</body>
</html>
